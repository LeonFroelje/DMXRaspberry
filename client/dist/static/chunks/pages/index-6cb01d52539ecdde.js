(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(784)}])},784:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return L}});var i=t(5893),a=t(5697),r=t.n(a),c=t(6613),o=t(7294),s=t(1536),d=t(7357),l=t(2293),u=t(5861),x=t(9661),h=t(3946),p=t(8462),j=t(7212),Z=t(8619),f=t(9953),m=t(5441),v=t(155),g=t(9653),C=t(948),_=t(1796),k=t(3486),w=t(8987),b=t(8262),y=t(6540),P=t(6242),S=t(8445),D=t(2023),M=t(6178),E=t(542),F=t(1664),I=t.n(F),N=t(6154);let G=e=>e.active_mode.findIndex(e=>"Intensity"===e.channel_type),q=(e,n)=>{let t=G(e);return e.active_mode[t].data=n,e};function z(e){let n=(0,c.Z)(),t=e.fixture,a=G(t),r=a>=0?t.active_mode[a].data:()=>{let e=t.active_mode.reduce((e,n,t)=>({address:t,data:e.data+n.data,channel_type:"",default_value:-1,capabilities:new Map}));return e.data/e.address},[s,d]=(0,o.useState)(r),l=(e,i)=>{let a=q(t,i);n.updateFixture({...a}),N.Z.post("/api/fixtures/update",t).then(e=>e.data).catch(e=>e)},u=e=>{};return a<0?(0,i.jsx)(I(),{color:"#000",href:"/fixtures/".concat(t.id),children:(0,i.jsxs)(P.Z,{id:"fixture-".concat(t.id,"-card"),children:[(0,i.jsx)(S.Z,{avatar:(0,i.jsx)(E.Z,{}),action:(0,i.jsx)(g.Z,{checked:t.active_mode.filter(e=>{e.data}).length>0,id:"fixture-".concat(t.id,"-switch"),onChange:u,onClick:e=>{e.stopPropagation(),e.preventDefault()}}),title:t.name,subheader:"".concat(t.active_mode.length,"-channels, ").concat(t.fixture_type)}),(0,i.jsx)(D.Z,{sx:{padding:"0.5rem 1rem 0.5rem"},children:(0,i.jsx)(M.ZP,{"aria-label":"Intensity",value:s,onChangeCommitted:()=>{},onChange:(e,n)=>{d(n)},onClick:e=>{e.stopPropagation(),e.preventDefault()},sx:{boxSizing:"border-box"}})})]})}):(0,i.jsx)(I(),{href:"/fixtures/".concat(t.id),children:(0,i.jsxs)(P.Z,{id:"fixture-".concat(t.id,"-card"),children:[(0,i.jsx)(S.Z,{avatar:(0,i.jsx)(E.Z,{}),action:(0,i.jsx)(g.Z,{checked:t.active_mode.filter(e=>{e.data}).length>0,id:"fixture-".concat(t.id,"-switch"),onChange:u,onClick:e=>{e.stopPropagation(),e.preventDefault()}}),title:t.name,subheader:t.fixture_type}),(0,i.jsx)(D.Z,{sx:{padding:"0.5rem 1rem 0.5rem"},children:(0,i.jsx)(M.ZP,{"aria-label":"Intensity",value:s,onChangeCommitted:l,onChange:(e,n)=>{d(n)},onClick:e=>{e.stopPropagation(),e.preventDefault()},sx:{boxSizing:"border-box"}})})]})})}function L(){let[e,n]=(0,o.useState)(!1),[t,a]=(0,o.useState)(!0),r=(0,c.Z)(),x=e=>{},p=()=>{n(!0)},j=e=>{n(!1)};return(0,i.jsxs)(s.Z,{sx:{width:"100%"},rowGap:"1rem",children:[(0,i.jsxs)(l.Z,{component:"nav",sx:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"0rem 0.5rem",opacity:"90%"},position:"sticky",children:[(0,i.jsx)(u.Z,{variant:"h5",component:"div",children:r.name}),(0,i.jsxs)(v.Z,{children:[(0,i.jsx)(h.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:p,children:(0,i.jsx)(m.Z,{})}),(0,i.jsx)(O,{open:e,onClose:j}),(0,i.jsx)(T,{checked:t,onChange:x})]})]}),(0,i.jsxs)(s.Z,{flexDirection:"column",padding:"1rem",children:[(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(u.Z,{variant:"h6",component:"div",children:"Lampen"}),(0,i.jsx)(s.Z,{gap:".5rem",children:void 0!==r.fixtures?r.fixtures.map((e,n)=>(0,i.jsx)(z,{fixture:e,index:n},e.id)):"Keine Lampen"})]}),(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(u.Z,{variant:"h6",component:"div",children:"Gruppen"}),(0,i.jsx)(u.Z,{variant:"h6",component:"div",children:"jksadjalsjdska"})]})]})]})}function O(e){let{onClose:n,selectedValue:t,open:a}=e,r=()=>{n(t)},c=e=>{n(e)};return(0,i.jsx)(b.Z,{onClose:r,open:a,children:(0,i.jsxs)(p.Z,{children:[(0,i.jsx)(j.ZP,{children:(0,i.jsxs)(Z.Z,{autoFocus:!0,onClick:()=>c("addFixture"),children:[(0,i.jsx)(w.Z,{children:(0,i.jsx)(x.Z,{children:(0,i.jsx)(y.Z,{})})}),(0,i.jsx)(f.Z,{primary:"Lampe hinzuf\xfcgen"})]})}),(0,i.jsx)(j.ZP,{children:(0,i.jsxs)(Z.Z,{autoFocus:!0,onClick:()=>c("addGroup"),children:[(0,i.jsx)(w.Z,{children:(0,i.jsx)(x.Z,{children:(0,i.jsx)(y.Z,{})})}),(0,i.jsx)(f.Z,{primary:"Gruppe erstellen"})]})})]})})}O.propTypes={onClose:r().func.isRequired,open:r().bool.isRequired};let T=(0,C.ZP)(g.Z)(e=>{let{theme:n}=e;return{"& .MuiSwitch-switchBase.Mui-checked":{color:k.Z[300],"&:hover":{backgroundColor:(0,_.Fq)(k.Z[300],n.palette.action.hoverOpacity)}},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:k.Z[300]}}})}},function(e){e.O(0,[976,559,523,325,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);